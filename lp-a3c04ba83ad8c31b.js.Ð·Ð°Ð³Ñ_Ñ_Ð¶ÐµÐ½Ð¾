(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{69650:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var r=n(16835),o=n(65067),i=n(19192),s=n(16306),l=n(80770),a=n(59499),c=n(47265),u=n(51038),d=n(94471),p=n(70794),m=n(67294),x=n(9473),f=n(2875),v=n(75297),h=n(99855),b=n(79600),w=function(e,t){var n=new p.Z(e.rewardsToken1PerSecond).times(h.zi).times(t),r=new p.Z(e.totalDepositAmount).times((0,d.U4)(new p.Z(e.lpPriceUSD),Number(e.usdDecimals))),o=n.div(r).times(100);return{apr:o.toNumber(),apy:100*(0,b.g5)(o.toNumber()),aprDisplay:"".concat(o.times(100).toFixed(2),"%")}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=function(){var e=(0,x.I0)(),t=(0,m.useCallback)(function(){e((0,v.FG)())},[e]);return(0,m.useEffect)(function(){t()},[t]),{fetch:t}},y=function(){var e=(0,x.I0)(),t=(0,u.Z)().account,n=(0,m.useCallback)(function(){e((0,v.lt)(t))},[e,t]);return(0,m.useEffect)(function(){n()},[n]),{fetch:n}},Z=function(){var e=(0,f.o)(function(e){return e.lp}).lpInfoViews,t=(0,f.o)(function(e){return e.stats}).tokenPrices;return(0,m.useMemo)(function(){return e?e.map(function(e){return k(k(k({},e),w(e,t[e.rewardsToken1])),{},{totalDepositAmountUds:(0,d.U4)(new p.Z(e.totalDepositAmount).times((0,d.U4)(new p.Z(e.lpPriceUSD),Number(e.usdDecimals)))).toNumber(),rewardsToken1AmountDisplay:(0,d.U4)(new p.Z(e.rewardsToken1Amount),e.rewardsToken1Decimals).toNumber(),rewardsToken1RemainingAmountDisplay:(0,d.U4)(new p.Z(e.rewardsToken1RemainingAmount),e.rewardsToken1Decimals).toNumber(),token1:c.U6[e.tokenAddress1],token2:c.U6[e.tokenAddress2],lpToken:c.U6[e.lpTokenAddress]})}):[]},[e,t])},A=function(){var e=(0,f.o)(function(e){return e.lp}),t=e.lpUserInfoView,n=e.lpInfoViews,r=(0,f.o)(function(e){return e.stats}).tokenPrices;return(0,m.useMemo)(function(){return t?t.map(function(e,t){var r,o,i,s;return k(k({},e),{},{pool:null===(r=n[t])||void 0===r?void 0:r.pool,token1:c.U6[null===(o=n[t])||void 0===o?void 0:o.tokenAddress1],token2:c.U6[null===(i=n[t])||void 0===i?void 0:i.tokenAddress2],lpToken:c.U6[null===(s=n[t])||void 0===s?void 0:s.lpTokenAddress],totalDepositAmountUsdDisplay:(0,d.U4)(new p.Z(e.totalDepositAmount).times((0,d.U4)(new p.Z(n[t].lpPriceUSD),Number(n[t].usdDecimals)))).toNumber(),pendingRewardsToken1Display:(0,d.U4)(new p.Z(e.pendingRewardsToken1)).toNumber()})}):[]},[t,r])},O=n(23255),S=n(85331),C=n(14141),P=n(50029),D=n(4730),T=n(87794),U=n.n(T),E=n(25889),N=n(97178),W=n(22920),z={gasLimit:n(68262).QL},L=function(e){var t=(0,u.Z)().account,n=(0,E.Z)().onConnectWallet,r=(0,N.vU)(e);return{claimHandle:m.useCallback((0,P.Z)(U().mark(function e(){var o,i,s,l;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n(),e.abrupt("return");case 3:return e.prev=3,e.next=6,r.harvest(z);case 6:return o=e.sent,e.next=9,o.wait();case 9:return i=e.sent,W.Am.success("Successfully claimed!"),e.abrupt("return",i.status);case 14:e.prev=14,e.t0=e.catch(3),l=e.t0.reason||(null===(s=e.t0.data)||void 0===s?void 0:s.message)||e.t0.message,console.error(e.t0),W.Am.error(l);case 19:case"end":return e.stop()}},e,null,[[3,14]])})),[t,r,n])}},R=function(e){var t,n=(0,u.Z)().account,r=(0,E.Z)().onConnectWallet,o=(0,N.wd)(e);return{removeHandle:m.useCallback((t=(0,P.Z)(U().mark(function e(t){var i,s,l,a;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return r(),e.abrupt("return");case 3:return e.prev=3,e.next=6,o.removeLiquidity(t,z);case 6:return i=e.sent,e.next=9,i.wait();case 9:return s=e.sent,W.Am.success("Successfully claimed!"),e.abrupt("return",s.status);case 14:e.prev=14,e.t0=e.catch(3),a=e.t0.reason||(null===(l=e.t0.data)||void 0===l?void 0:l.message)||e.t0.message,console.error(e.t0),W.Am.error(a);case 19:case"end":return e.stop()}},e,null,[[3,14]])})),function(e){return t.apply(this,arguments)}),[n,o,r])}},_=n(85893),I=["pool","callback"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(e){var t=e.pool,n=e.callback,o=(0,D.Z)(e,I),i=(0,l.$G)().t,s=L(t).claimHandle,a=m.useState(!1),c=(0,r.Z)(a,2),u=c[0],d=c[1];return(0,_.jsx)(O.zx,q(q({iconLoading:u,onClick:(0,P.Z)(U().mark(function e(){return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,s();case 3:d(!1),null==n||n();case 5:case"end":return e.stop()}},e)}))},o),{},{children:i("Claim")}))},M=n(8207),$=n(5539),G=n(52306),H=n(52299),B=n(47178),Q=function(e){var t=e.visible,n=e.setVisible,o=e.value,i=e.successCallback,a=e.setValue,c=e.balance,u=void 0===c?new p.Z(0):c,x=e.token,f=(e.pid,e.title),v=e.removeLp,h=e.pool,b=(0,l.$G)().t,w=(0,B.Z)(null==x?void 0:x.address,v),j=w.allowance;w.fetchStatus;var k=m.useState(j.isEqualTo(0)),g=(0,r.Z)(k,2),y=g[0],Z=g[1];m.useEffect(function(){t||Z(j.isEqualTo(0))},[t,j]);var A=m.useState(!1),S=(0,r.Z)(A,2),C=S[0],D=S[1],T=(0,H.h)(null==x?void 0:x.address).handleApproveToken,E=m.useState(!1),N=(0,r.Z)(E,2),z=N[0],L=N[1],I=R(v).removeHandle,V=m.useCallback(function(e){e.currentTarget.validity.valid&&a(e.currentTarget.value.replace(/,/g,"."))},[a]),q=m.useMemo(function(){return(0,d.NJ)(u,null==x?void 0:x.decimals,-1)},[u,x]),F=m.useCallback(function(){a((0,d.U4)(u,null==x?void 0:x.decimals).toString())},[u,a,x]);return(0,_.jsxs)(M.A,{visible:t,setVisible:n,title:f,children:[(0,_.jsx)($.Z,{value:o,onSelectMax:F,onChange:V,max:q,decimals:null==x?void 0:x.decimals,symbol:null==x?void 0:x.symbol,addLiquidityUrl:"".concat(s.V).concat(h),inputTitle:b("Remove")}),(0,_.jsxs)(O.kC,{children:[y&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(O.zx,{iconLoading:C,onClick:(0,P.Z)(U().mark(function e(){return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,T(v);case 3:D(!1);case 4:case"end":return e.stop()}},e)})),variant:"info",scale:"sm",mt:16,width:"100%",children:"Approve"}),(0,_.jsx)(O.xu,{width:16})]}),(0,_.jsx)(O.zx,{iconLoading:z,disabled:j.isEqualTo(0),onClick:(0,P.Z)(U().mark(function e(){var t;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!new p.Z(o).isLessThanOrEqualTo(0)){e.next=3;break}return W.Am.warning("Enter an amount"),e.abrupt("return");case 3:return L(!0),e.next=6,I((0,d.Qe)(new p.Z(o),null==x?void 0:x.decimals).toString());case 6:t=e.sent,L(!1),-1!==t&&(n(!1),null==i||i());case 9:case"end":return e.stop()}},e)})),scale:"sm",mt:16,width:"100%",children:"Remove"})]}),y&&(0,_.jsx)(O.xu,{mt:"8px",children:(0,_.jsx)(G.ZP,{steps:[j.isGreaterThan(0)]})})]})},X=(0,C.ZP)(S.Z).withConfig({displayName:"lp__FlexCardStyled",componentId:"sc-1wrzglh-0"})(["min-width:60%;","{min-width:auto;}"],function(e){return e.theme.mediaQueries.ml}),J=function(){var e,t,n,a,d,x=(0,l.$G)().t;g();var f=y().fetch,v=Z(),h=A(),b=(0,u.Z)().account,w=(0,E.Z)().onConnectWallet,j=m.useState(!1),k=(0,r.Z)(j,2),C=k[0],P=k[1],D=m.useState(""),T=(0,r.Z)(D,2),U=T[0],N=T[1],W=m.useState(0),z=(0,r.Z)(W,2),L=z[0];return z[1],(0,_.jsxs)(o.Z,{children:[v&&(null===(e=v[L])||void 0===e?void 0:e.lpToken)&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(Q,{visible:C,setVisible:P,successCallback:function(){f()},value:U,balance:new p.Z((null==h?void 0:null===(t=h[L])||void 0===t?void 0:t.lpBalance)||0),setValue:N,token:null===(n=v[L])||void 0===n?void 0:n.lpToken,pool:null===(a=v[L])||void 0===a?void 0:a.pool,removeLp:null===(d=v[L])||void 0===d?void 0:d.removeLp,title:"Remove LP"})}),(0,_.jsxs)(O.xu,{maxWidth:960,margin:"auto",children:[(0,_.jsxs)(O.kC,{mt:80,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[(0,_.jsx)(O.xv,{fontSize:"36px",bold:!0,textAlign:"center",children:x("Staking LP to Earn")}),(0,_.jsx)(O.xv,{ml:"0.5em",bold:!0,fontSize:"36px",gradient:"borderSecondary",textAlign:"center",children:c.ZP.arb.symbol})]}),v?v.map(function(e,t){var n,r;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.Z,{mt:80,header:"".concat(e.token1.symbol,"/").concat(e.token2.symbol),children:(0,_.jsxs)(O.kC,{flexWrap:"wrap",padding:"30px 0",justifyContent:"space-around",children:[(0,_.jsxs)(O.xu,{minWidth:"170px",children:[(0,_.jsx)(O.xv,{small:!0,color:"textSubtle",textAlign:"center",children:x("TVL")}),(0,_.jsx)(O.Wo,{prefix:"$",fontSize:"18px",mt:"8px",textAlign:"center",bold:!0,value:e.totalDepositAmountUds})]}),(0,_.jsxs)(O.xu,{minWidth:"170px",children:[(0,_.jsx)(O.xv,{small:!0,color:"textSubtle",textAlign:"center",children:x("APY")}),(0,_.jsx)(O.Wo,{fontSize:"18px",textAlign:"center",mt:"8px",bold:!0,unit:" %",decimals:2,value:e.apy})]}),(0,_.jsxs)(O.xu,{minWidth:"170px",children:[(0,_.jsx)(O.xv,{small:!0,color:"textSubtle",textAlign:"center",children:x("Pending Rewards")}),(0,_.jsx)(O.Wo,{fontSize:"18px",mt:"8px",textAlign:"center",value:e.rewardsToken1RemainingAmountDisplay,unit:" ARB",bold:!0})]}),(0,_.jsxs)(O.xu,{minWidth:"170px",children:[(0,_.jsx)(O.xv,{small:!0,color:"textSubtle",textAlign:"center",children:x("Issued Rewards")}),(0,_.jsx)(O.Wo,{fontSize:"18px",mt:"8px",textAlign:"center",value:e.rewardsToken1AmountDisplay,unit:" ARB",bold:!0})]})]})}),(0,_.jsxs)(O.kC,{flexWrap:"wrap",children:[(0,_.jsx)(X,{mt:24,flex:1,header:"My ".concat(e.token1.symbol,"/").concat(e.token2.symbol," LP"),children:(0,_.jsxs)(O.kC,{flexDirection:"column",padding:"30px 0",alignItems:"center",children:[(0,_.jsxs)(O.kC,{height:40,width:"100%",alignItems:"center",justifyContent:"center",children:[(0,_.jsx)(i.O,{tokenAddress:e.token1.symbol,width:40,height:40,margin:"0 5px"}),(0,_.jsx)(i.O,{tokenAddress:e.token2.symbol,width:40,margin:"0 5px",height:40})]}),(0,_.jsx)(O.Wo,{mt:"8px",fontSize:"18px",prefix:"$",bold:!0,value:(null==h?void 0:null===(n=h[t])||void 0===n?void 0:n.totalDepositAmountUsdDisplay)||0}),(0,_.jsxs)(O.kC,{width:"100%",justifyContent:"space-between",children:[(0,_.jsx)(O.rU,{style:{width:"50%"},href:"".concat(s.V).concat(e.pool),external:!0,children:(0,_.jsx)(O.zx,{mt:24,scale:"sm",width:"100%",children:x("Start Staking")})}),(0,_.jsx)(O.xu,{width:24}),(0,_.jsx)(O.zx,{mt:24,scale:"sm",width:"50%",variant:"info",onClick:function(){P(!0)},children:x("Remove LP")})]})]})}),(0,_.jsx)(O.xu,{width:24,className:"show-media-ml"}),(0,_.jsx)(X,{mt:24,flex:1,header:x("My Rewards"),children:(0,_.jsxs)(O.kC,{flexDirection:"column",padding:"30px 0",alignItems:"center",children:[(0,_.jsx)(i.O,{tokenAddress:c.ZP.arb.symbol,width:40,height:40}),(0,_.jsx)(O.Wo,{mt:"8px",fontSize:"18px",unit:" ".concat(c.ZP.arb.symbol),bold:!0,value:(null==h?void 0:null===(r=h[t])||void 0===r?void 0:r.pendingRewardsToken1Display)||0}),b?(0,_.jsx)(F,{width:"100%",scale:"sm",mt:24,variant:"info",pool:e.pool,callback:function(){f()}}):(0,_.jsx)(O.zx,{width:"100%",scale:"sm",mt:24,onClick:function(){w()},children:x("Connect Wallet")})]})})]})]})}):(0,_.jsx)(O.xu,{mt:80,children:(0,_.jsx)(O.$j,{})})]})]})};function Y(){return(0,_.jsx)(J,{})}},53162:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lp",function(){return n(69650)}])}},function(e){e.O(0,[663,961,67,398,774,888,179],function(){return e(e.s=53162)}),_N_E=e.O()}]);