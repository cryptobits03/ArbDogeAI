(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{47278:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(50029),a=n(16835),i=n(87794),s=n.n(i),l=n(65067),u=n(19192),c=n(52105),o=n(47265),d=n(80770),m=n(47178),x=n(59499),f=n(51038),p=n(67294),h=n(9473),v=n(2875),w=n(66753),b=n(99855),k=n(70794),g=n(79600),j=function(e){var t=new k.Z(e.rewardsPerSecond).times(e.BONUS_MULTIPLIER).times(b.ii).times(365).div(e.totalAmount).times(100);return{apr:t.toNumber(),apy:100*(0,g.g5)(t.toNumber()),aprDisplay:"".concat(12,"%")}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,x.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(){var e=(0,h.I0)(),t=(0,p.useCallback)(function(){e((0,w.FG)())},[e]);return(0,p.useEffect)(function(){t()},[t]),{fetch:t}},C=function(){var e=(0,h.I0)(),t=(0,f.Z)().account,n=(0,p.useCallback)(function(){t&&e((0,w.lt)(t))},[e,t]);return(0,p.useEffect)(function(){n()},[n]),{fetch:n}},A=function(){var e=(0,v.o)(function(e){return e.earn}).earnInfoViews;return(0,p.useMemo)(function(){return e?e.map(function(e){return S(S(S({},e),j(e)),{},{token1:o.U6[e.token]})}):[]},[e])},T=function(){var e=(0,v.o)(function(e){return e.earn}).earnUserInfoView;return(0,p.useMemo)(function(){return e||[]},[e])},O=n(23255),P=n(27849),E=n(94471),N=n(14141),_=n(8207),z=n(5539),L=n(52306),W=n(52299),V=n(22920),M=n(25889),U=n(97178),D={gasLimit:n(68262).QL},I=function(){var e,t=(0,f.Z)().account,n=(0,M.Z)().onConnectWallet,a=(0,U.ov)();return{depositHandle:p.useCallback((e=(0,r.Z)(s().mark(function e(r,i){var l,u,c,o;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n(),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.deposit(r,i,D);case 6:return l=e.sent,e.next=9,l.wait();case 9:return u=e.sent,V.Am.success("Deposit successfully!"),e.abrupt("return",u.status);case 14:return e.prev=14,e.t0=e.catch(3),o=e.t0.reason||(null===(c=e.t0.data)||void 0===c?void 0:c.message)||e.t0.message,console.error(e.t0),V.Am.error(o),e.abrupt("return",-1);case 20:case"end":return e.stop()}},e,null,[[3,14]])})),function(t,n){return e.apply(this,arguments)}),[t,a,n])}},q=function(){var e,t=(0,f.Z)().account,n=(0,M.Z)().onConnectWallet,a=(0,U.ov)();return{withdrawHandle:p.useCallback((e=(0,r.Z)(s().mark(function e(r,i){var l,u,c,o;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n(),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.withdraw(r,i,D);case 6:return l=e.sent,e.next=9,l.wait();case 9:return u=e.sent,"0"===i?V.Am.success("Claim rewards successfully!"):V.Am.success("Withdraw successfully!"),e.abrupt("return",u.status);case 14:return e.prev=14,e.t0=e.catch(3),o=e.t0.reason||(null===(c=e.t0.data)||void 0===c?void 0:c.message)||e.t0.message,console.error(e.t0),V.Am.error(o),e.abrupt("return",-1);case 20:case"end":return e.stop()}},e,null,[[3,14]])})),function(t,n){return e.apply(this,arguments)}),[t,a,n])}},G=n(85893),F=function(e){var t=e.visible,n=e.setVisible,i=e.value,l=e.successCallback,u=e.setValue,o=e.balance,m=void 0===o?new k.Z(0):o,x=e.allowance,f=void 0===x?new k.Z(0):x,h=e.token,v=e.pid,w=e.title,b=(0,d.$G)().t,j=p.useState(f.isEqualTo(0)),Z=(0,a.Z)(j,2),S=Z[0],y=Z[1];p.useEffect(function(){t||y(f.isEqualTo(0))},[t,f]);var C=p.useState(!1),A=(0,a.Z)(C,2),T=A[0],N=A[1],M=(0,W.h)(null==h?void 0:h.address).handleApproveToken,U=p.useState(!1),D=(0,a.Z)(U,2),q=D[0],F=D[1],H=I().depositHandle,R=p.useCallback(function(e){e.currentTarget.validity.valid&&u(e.currentTarget.value.replace(/,/g,"."))},[u]),B=p.useMemo(function(){return(0,E.NJ)(m,null==h?void 0:h.decimals)},[m,h]),Q=p.useCallback(function(){u((0,E.U4)(m,null==h?void 0:h.decimals).toString())},[m,u,h]);return(0,G.jsxs)(_.A,{visible:t,setVisible:n,title:w,children:[(0,G.jsx)(z.Z,{value:i,onSelectMax:Q,onChange:R,max:B,decimals:null==h?void 0:h.decimals,symbol:null==h?void 0:h.symbol,addLiquidityUrl:(0,g.L5)(null==h?void 0:h.address),inputTitle:b("Stake")}),(0,G.jsxs)(O.kC,{children:[S&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(O.zx,{iconLoading:T,onClick:(0,r.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,M((0,P.Kn)(c.Z.DogeBonusPool));case 3:N(!1);case 4:case"end":return e.stop()}},e)})),variant:"info",scale:"sm",mt:16,width:"100%",children:"Approve"}),(0,G.jsx)(O.xu,{width:16})]}),(0,G.jsx)(O.zx,{iconLoading:q,disabled:f.isEqualTo(0),onClick:(0,r.Z)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!new k.Z(i).isLessThanOrEqualTo(0)){e.next=3;break}return V.Am.warning("Enter an amount"),e.abrupt("return");case 3:return F(!0),e.next=6,H(v,(0,E.Qe)(new k.Z(i),null==h?void 0:h.decimals).toString());case 6:t=e.sent,F(!1),-1!==t&&(n(!1),null==l||l());case 9:case"end":return e.stop()}},e)})),scale:"sm",mt:16,width:"100%",children:"Stake"})]}),S&&(0,G.jsx)(O.xu,{mt:"8px",children:(0,G.jsx)(L.ZP,{steps:[f.isGreaterThan(0)]})})]})},H=function(e){var t=e.visible,n=e.setVisible,i=e.value,l=e.successCallback,u=e.setValue,c=e.balance,o=void 0===c?new k.Z(0):c,m=e.token,x=e.pid,f=(0,d.$G)().t,h=p.useState(!1),v=(0,a.Z)(h,2),w=v[0],b=v[1],g=q().withdrawHandle,j=p.useCallback(function(e){e.currentTarget.validity.valid&&u(e.currentTarget.value.replace(/,/g,"."))},[u]),Z=p.useMemo(function(){return(0,E.NJ)(o,null==m?void 0:m.decimals)},[o,m]),S=p.useCallback(function(){u((0,E.U4)(o,null==m?void 0:m.decimals).toString())},[o,u,m]);return(0,G.jsxs)(_.A,{visible:t,setVisible:n,title:"Withdraw",children:[(0,G.jsx)(z.Z,{value:i,onSelectMax:S,onChange:j,max:Z,decimals:null==m?void 0:m.decimals,symbol:null==m?void 0:m.symbol,addLiquidityUrl:"/",inputTitle:f("Withdraw")}),(0,G.jsx)(O.zx,{iconLoading:w,onClick:(0,r.Z)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!new k.Z(i).isLessThanOrEqualTo(0)){e.next=3;break}return V.Am.warning("Enter an amount"),e.abrupt("return");case 3:return b(!0),e.next=6,g(x,(0,E.Qe)(new k.Z(i),null==m?void 0:m.decimals).toString());case 6:t=e.sent,b(!1),-1!==t&&(null==l||l(),n(!1));case 9:case"end":return e.stop()}},e)})),scale:"sm",mt:14,width:"100%",children:"Withdraw"})]})},R=(0,N.ZP)(O.At).withConfig({displayName:"earn__FlexCardStyled",componentId:"sc-1jlblmz-0"})(["min-width:60%;","{min-width:auto;}"],function(e){return e.theme.mediaQueries.ml}),B=function(){var e=(0,d.$G)().t,t=y().fetch,n=C().fetch,i=A(),x=(0,a.Z)(i,1)[0],f=T(),h=(0,a.Z)(f,1)[0],v=p.useState(!1),w=(0,a.Z)(v,2),b=w[0],g=w[1],j=p.useState(!1),Z=(0,a.Z)(j,2),S=Z[0],N=Z[1],_=q().withdrawHandle,z=p.useState(""),L=(0,a.Z)(z,2),W=L[0],V=L[1],M=p.useState(""),U=(0,a.Z)(M,2),D=U[0],I=U[1],B=(0,m.Z)(null==x?void 0:x.token,(0,P.Kn)(c.Z.DogeBonusPool)),Q=B.allowance;B.fetchStatus,p.useEffect(function(){b&&V("")},[b]);var $=p.useState(!1),J=(0,a.Z)($,2),K=J[0],X=J[1];return(0,G.jsxs)(l.Z,{children:[x&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(F,{visible:b,setVisible:g,successCallback:function(){t(),n()},value:W,pid:null==x?void 0:x.pid,balance:new k.Z(null==h?void 0:h.lpBalance),setValue:V,allowance:Q,token:null==x?void 0:x.token1,title:D}),(0,G.jsx)(H,{visible:S,setVisible:N,successCallback:function(){t(),n()},value:W,pid:null==x?void 0:x.pid,balance:new k.Z(null==h?void 0:h.stakedAmount),setValue:V,token:null==x?void 0:x.token1})]}),(0,G.jsxs)(O.xu,{maxWidth:960,margin:"auto",children:[(0,G.jsxs)(O.kC,{mt:80,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[(0,G.jsx)(O.xv,{fontSize:"36px",bold:!0,textAlign:"center",children:e("Staking to Earn")}),(0,G.jsx)(O.xv,{ml:"0.5em",bold:!0,fontSize:"36px",gradient:"borderSecondary",textAlign:"center",children:o.ZP.gameT.symbol})]}),x?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(O.At,{mt:80,header:"Statistics",children:(0,G.jsxs)(O.kC,{padding:"30px 0",justifyContent:"space-around",children:[(0,G.jsxs)(O.xu,{children:[(0,G.jsx)(O.xv,{small:!0,color:"textSubtle",textAlign:"center",children:e("Current Staking")}),(0,G.jsx)(O.Wo,{unit:" ".concat(o.ZP.gameT.symbol),fontSize:"18px",mt:"8px",textAlign:"center",bold:!0,value:(0,E.U4)(new k.Z(x.totalAmount),x.decimals).toNumber()})]}),(0,G.jsxs)(O.xu,{children:[(0,G.jsx)(O.xv,{small:!0,color:"textSubtle",textAlign:"center",children:e("APY")}),(0,G.jsx)(O.Wo,{fontSize:"18px",mt:"8px",textAlign:"center",unit:"%",bold:!0,value:x.apy})]})]})}),(0,G.jsxs)(O.kC,{flexWrap:"wrap",children:[(0,G.jsx)(R,{mt:24,flex:1,header:e("My Staking"),children:(0,G.jsxs)(O.kC,{flexDirection:"column",padding:"30px 0",alignItems:"center",children:[(0,G.jsx)(u.O,{tokenAddress:o.ZP.gameT.symbol,width:36,height:36}),(0,G.jsx)(O.Wo,{mt:"8px",fontSize:"18px",unit:" ".concat(o.ZP.gameT.symbol),bold:!0,value:(0,E.U4)(new k.Z(null==h?void 0:h.stakedAmount),null==x?void 0:x.decimals).toNumber()}),new k.Z(null==h?void 0:h.stakedAmount).isGreaterThan(0)?(0,G.jsxs)(O.kC,{width:"100%",justifyContent:"space-between",children:[(0,G.jsx)(O.zx,{onClick:function(){I("Stake More"),g(!0)},mt:24,scale:"sm",width:"50%",children:e("Stake More")}),(0,G.jsx)(O.xu,{width:24}),(0,G.jsx)(O.zx,{onClick:function(){return N(!0)},mt:24,scale:"sm",width:"50%",variant:"info",children:e("Withdraw")})]}):(0,G.jsx)(O.zx,{onClick:function(){I("Start Staking"),g(!0)},mt:24,width:"100%",scale:"sm",children:e("Start Staking")})]})}),(0,G.jsx)(O.xu,{width:24,className:"show-media-ml"}),(0,G.jsx)(R,{mt:24,flex:1,header:e("My Rewards"),children:(0,G.jsxs)(O.kC,{flexDirection:"column",padding:"30px 0",alignItems:"center",children:[(0,G.jsx)(u.O,{tokenAddress:o.ZP.gameT.symbol,width:36,height:36}),(0,G.jsx)(O.Wo,{mt:"8px",fontSize:"18px",unit:" ".concat(o.ZP.gameT.symbol),bold:!0,value:(0,E.U4)(new k.Z(null==h?void 0:h.unclaimedRewards),null==x?void 0:x.decimals).toNumber()}),(0,G.jsx)(O.zx,{iconLoading:K,disabled:new k.Z(null==h?void 0:h.unclaimedRewards).isLessThanOrEqualTo(0),onClick:(0,r.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),e.next=3,_(null==x?void 0:x.pid,"0");case 3:e.sent,X(!1);case 5:case"end":return e.stop()}},e)})),width:"100%",variant:"info",mt:24,scale:"sm",children:e("Claim Rewards")})]})})]})]}):(0,G.jsx)(O.xu,{mt:80,children:(0,G.jsx)(O.$j,{})})]})]})};function Q(){return(0,G.jsx)(B,{})}},4695:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn",function(){return n(47278)}])}},function(e){e.O(0,[663,961,67,398,774,888,179],function(){return e(e.s=4695)}),_N_E=e.O()}]);